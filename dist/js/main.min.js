"use strict";function addEvent(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}var momentumModule=function(){function e(e){document.querySelectorAll(".dashboard-menu-item");l=e,addEvent(document.getElementById("login"),"submit",n),addEvent(document.getElementById("logout"),"click",d)}function t(e,t){var n=new XMLHttpRequest;addEvent(n,"load",function(){t(JSON.parse(this.responseText))}),n.open("GET",l+"/"+e),n.send()}function n(e){var n={loginField:document.getElementById("login-field"),loginAlert:document.getElementById("login-alert"),loginBox:document.getElementById("login-box"),loginBtn:document.getElementById("login-btn"),loginPage:document.getElementById("login-page"),dashboard:document.getElementById("dashboard")},d=n.loginField.value;d&&(n.loginField.setAttribute("disabled","disabled"),n.loginBtn.setAttribute("disabled","disabled"),t("users?username="+d,function(e){e.length>0?(o=e[0],n.loginAlert.classList.remove("active"),n.loginBox.classList.remove("error"),n.dashboard.classList.add("active"),i(n.dashboard,"fadeInLeft"),i(n.loginPage,"fadeOut",function(){n.loginPage.classList.remove("active"),n.dashboard.classList.add("active")})):(n.loginAlert.innerHTML='Username "'+d+'" does not exist.',n.loginAlert.classList.add("active"),n.loginBox.classList.add("error"),n.loginField.removeAttribute("disabled","disabled"),n.loginBtn.removeAttribute("disabled","disabled"),n.loginField.focus())})),e.preventDefault()}function d(e){var t=document.getElementById("dashboard"),n=document.getElementById("login-page"),d=document.getElementById("login-field"),l=document.getElementById("login-btn");o={},l.removeAttribute("disabled","disabled"),d.removeAttribute("disabled","disabled"),d.value="",i(t,"fadeOutLeft",function(){t.classList.remove("active")}),n.classList.add("active"),i(n,"fadeIn",function(){d.focus()}),e.preventDefault()}function i(e,t,n){function d(e,t,n){addEvent(e,t,function d(i){e.removeEventListener(t,d),n(i)})}n=n||function(){},e.classList.add(t,"animated"),d(e,"animationend",function(d){e.classList.remove(t,"animated"),n()})}var o={},l="";return{getJSON:t,init:e,login:n}}();momentumModule.init("http://jsonplaceholder.typicode.com");