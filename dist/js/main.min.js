"use strict";var momentumModule=function(){function e(e){var d=document.getElementsByClassName("dashboard-menu-item");l=e;for(var r=0;r<d.length;r++)d[r].addEventListener("click",function(){var e=a[this.dataset.req](s.id);t(e,function(t){i(t,e)})});document.getElementById("login").addEventListener("submit",n),document.getElementById("logout").addEventListener("click",o)}function t(e,t){var n=new XMLHttpRequest;n.addEventListener("load",function(){t(JSON.parse(this.responseText))}),n.open("GET",l+"/"+e),n.send()}function n(e){var n={loginField:document.getElementById("login-field"),loginAlert:document.getElementById("login-alert"),loginBox:document.getElementById("login-box"),loginBtn:document.getElementById("login-btn"),loginPage:document.getElementById("login-page"),dashboard:document.getElementById("dashboard")},o=n.loginField.value;o&&(n.loginField.setAttribute("disabled","disabled"),n.loginBtn.setAttribute("disabled","disabled"),t("users?username="+o,function(e){e.length>0?(s=e[0],n.loginAlert.classList.remove("active"),n.loginBox.classList.remove("error"),n.dashboard.classList.add("active"),d(n.dashboard,"fadeInLeft",function(){prepareDashboard(s)}),d(n.loginPage,"fadeOut",function(){n.loginPage.classList.remove("active"),n.dashboard.classList.add("active")})):(n.loginAlert.innerHTML='Username "'+o+'" does not exist.',n.loginAlert.classList.add("active"),n.loginBox.classList.add("error"),n.loginField.removeAttribute("disabled","disabled"),n.loginBtn.removeAttribute("disabled","disabled"),n.loginField.focus())})),e.preventDefault()}function o(e){var t=document.getElementById("dashboard"),n=document.getElementById("login-page"),o=document.getElementById("login-field"),i=document.getElementById("login-btn");s={},i.removeAttribute("disabled","disabled"),o.removeAttribute("disabled","disabled"),o.value="",d(t,"fadeOutLeft",function(){t.classList.remove("active")}),n.classList.add("active"),d(n,"fadeIn",function(){o.focus()}),e.preventDefault()}function i(e,t){console.log(e),console.log(t)}function d(e,t,n){function o(e,t,n){e.addEventListener(t,function o(i){e.removeEventListener(t,o),n(i)})}e.classList.add(t,"animated"),o(e,"animationend",function(o){e.classList.remove(t,"animated"),n()})}var s={},l="",a={userPosts:function(e){return"posts?userId="+e},userAlbums:function(e){return"albums?userId="+e},allPosts:function(){return"posts"},postComments:function(e){return"comments?postId="+e}};return{getJSON:t,init:e,login:n}}();momentumModule.init("http://jsonplaceholder.typicode.com");